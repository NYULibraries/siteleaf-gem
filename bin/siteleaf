#!/usr/bin/env ruby

require 'siteleaf'
require 'fileutils'
require 'open-uri'
require 'digest/md5'
require_relative 'siteleaf_commands'
require_relative 'authenticate'
require_relative 'configure'
require_relative 'common'
require_relative 'help'
require_relative 'pull'
require_relative 'push'
require_relative 'publish'

case ARGV[0]
when '-v', '--version', 'version'
  puts Siteleaf::VERSION
when '-h', '--help', 'help'
  puts Help.help
when 's', 'server'
  SiteleafCommands.sever_command
when 'auth'
  SiteleafCommands::Authenticate.auth true
when 'c', 'config', 'setup'
  SiteleafCommands.config_command
when 'n', 'new'
  SiteleafCommands.new_command
when 'pull'
  SiteleafCommands.pull_command
when 'push'
  SiteleafCommands.push_command
when 'publish'
  SiteleafCommands.publish_command
else
  puts "`#{ARGV[0]}` command not found.\n"
  puts Help.help
end
